<!DOCTYPE html>
<html>
	<head>
		<title>首页</title>
		<#include "/header.html">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">

	    <link rel="stylesheet" href="${request.contextPath}/statics/css/bootstrap.min.css">
	    <link rel="stylesheet" href="${request.contextPath}/statics/css/font-awesome.min.css">
	    <link rel="stylesheet" href="${request.contextPath}/statics/css/AdminLTE.min.css">
	    <link rel="stylesheet" href="${request.contextPath}/statics/css/all-skins.min.css">
	    <link rel="stylesheet" href="${request.contextPath}/statics/plugins/swiper/css/swiper.min.css">
	    
	    <link rel="stylesheet" href="${request.contextPath}/statics/css/bootstrap-table.min.css">
		<link rel="stylesheet" href="${request.contextPath}/statics/plugins/treegrid/jquery.treegrid.css">
		<script src="${request.contextPath}/statics/libs/bootstrap-table.min.js"></script>
		<script src="${request.contextPath}/statics/plugins/treegrid/jquery.treegrid.min.js"></script>
		<script src="${request.contextPath}/statics/plugins/treegrid/jquery.treegrid.bootstrap3.js"></script>
		<script src="${request.contextPath}/statics/plugins/treegrid/jquery.treegrid.extension.js"></script>
		<script src="${request.contextPath}/statics/plugins/treegrid/tree.table.js"></script>
		<script src="${request.contextPath}/statics/plugins/swiper/js/swiper.min.js"></script>

		<style>
			.small-box{
				margin-left: 5px !important;
				margin-right: 5px !important;
				font-size: 12px !important;
			}
			.inner{
				padding: 1px !important;
			}
			.small-box p{
				margin:0 0 5px !important;
			}
		</style>
	</head>

	<body>
	    	<div class="swiper-container">
			    <div class="swiper-wrapper">
			      <div class="swiper-slide">
					<div class="content-wrapper" id="rrapp" style="margin-left: 0px;">
						<section class="content">
						<div class="box box-danger">
						    <div class="box-header with-border">
				              <h3 class="box-title">XXX水电站监控</h3>
				            </div>
							<div class="row" style="border: none;">
								<template  v-for="par in parTemp">
								<div class="col-lg-3 col-xs-6">
						          <div class="small-box bg-red">
						            <div class="inner">
						              <h4>{{par.tempValue}}</h4>
						
						              <p>设备编号：{{par.deviceId}}</p>
						              <p>变量名称：{{par.tempName}}</p>
						            </div>
						            <div class="icon">
						              <i class="ion ion-pie-graph"></i>
						            </div>
						            <a href="#" class="small-box-footer">
						              {{par.tempDate}}
						            </a>
						          </div>
						        </div>
						        </template>
							        
								<template v-for="par in parShock">
								<div class="col-lg-3 col-xs-6">
						          <div class="small-box bg-aqua">
						            <div class="inner">
						              <h4>{{par.shockValue}}</h4>
						
						              <p>设备编号：{{par.shockDeviceId}}</p>
						              <p>变量名称：{{par.shockName}}</p>
						            </div>
						            <div class="icon">
						              <i class="ion ion-pie-graph"></i>
						            </div>
						            <a href="#" class="small-box-footer">
						              {{par.shockDate}}
						            </a>
						          </div>
						        </div>
						        </template>
						        <template v-for="par in parTemp">
								<div class="col-lg-3 col-xs-6">
						          <div class="small-box bg-aqua">
						            <div class="inner">
						              <h4>{{par.tempValue}}</h4>
						
						              <p>设备编号：{{par.deviceId}}</p>
						              <p>变量名称：{{par.tempName}}</p>
						            </div>
						            <div class="icon">
						              <i class="ion ion-pie-graph"></i>
						            </div>
						            <a href="#" class="small-box-footer">
						              {{par.tempDate}}
						            </a>
						          </div>
						        </div>
						        </template>
						        <template v-for="par in parVibration">
								<div class="col-lg-3 col-xs-6">
						          <div class="small-box bg-yellow">
						            <div class="inner">
						              <h4>{{par.tempValue}}</h4>
						
						              <p>设备编号：{{par.deviceId}}</p>
						              <p>变量名称：{{par.tempName}}</p>
						            </div>
						            <div class="icon">
						              <i class="ion ion-pie-graph"></i>
						            </div>
						            <a href="#" class="small-box-footer">
						              {{par.tempDate}}
						            </a>
						          </div>
						        </div>
						        </template>
						        <template v-for="par in parSpeed">
								<div class="col-lg-3 col-xs-6">
						          <div class="small-box bg-green">
						            <div class="inner">
						              <h4>{{par.tempValue}}</h4>
						
						              <p>设备编号：{{par.deviceId}}</p>
						              <p>变量名称：{{par.tempName}}</p>
						            </div>
						            <div class="icon">
						              <i class="ion ion-pie-graph"></i>
						            </div>
						            <a href="#" class="small-box-footer">
						              {{par.tempDate}}
						            </a>
						          </div>
						        </div>
						        </template>
						        <template v-for="par in parZDL">
								<div class="col-lg-3 col-xs-6">
						          <div class="small-box bg-red">
						            <div class="inner">
						              <h4>{{par.tempValue}}</h4>
						
						              <p>设备编号：{{par.deviceId}}</p>
						              <p>变量名称：{{par.tempName}}</p>
						            </div>
						            <div class="icon">
						              <i class="ion ion-pie-graph"></i>
						            </div>
						            <a href="#" class="small-box-footer">
						              {{par.tempDate}}
						            </a>
						          </div>
						        </div>
						        </template>
						        <template v-for="par in parElectric">
								<div class="col-lg-3 col-xs-6">
						          <div class="small-box bg-aqua">
						            <div class="inner">
						              <h4>{{par.tempValue}}</h4>
						
						              <p>设备编号：{{par.deviceId}}</p>
						              <p>变量名称：{{par.tempName}}</p>
						            </div>
						            <div class="icon">
						              <i class="ion ion-pie-graph"></i>
						            </div>
						            <a href="#" class="small-box-footer">
						              {{par.tempDate}}
						            </a>
						          </div>
						        </div>
						        </template>
						        <!-- <template v-for="par in parTemp">
								<div class="col-lg-3 col-xs-6">
						          <div class="small-box bg-red">
						            <div class="inner">
						              <h4>{{par.tempValue}}</h4>
						
						              <p>设备编号：{{par.deviceId}}</p>
						              <p>变量名称：{{par.tempName}}</p>
						            </div>
						            <div class="icon">
						              <i class="ion ion-pie-graph"></i>
						            </div>
						            <a href="#" class="small-box-footer">
						              {{par.tempDate}}
						            </a>
						          </div>
						        </div>
						        </template> -->
					      </div>	
					      </div>		
					    </section>
				     </div>
				  </div>

			      <div class="swiper-slide">
					<div class="content-wrapper" id="rrapp1" style="margin-left: 0px;">
						<section class="content">
						
					    </section>
				     </div>
				  </div>
				  

			      <div class="swiper-slide">
					<div class="content-wrapper" id="rrapp2" style="margin-left: 0px;">
						<section class="content">		
					    </section>
				     </div>
				  </div>
				  </div>
			    </div>
			    
			    <!-- <div class="swiper-pagination"></div> -->
			  </div> 
	      
      
      <script src="${request.contextPath}/statics/libs/jquery.min.js"></script>
	  <script src="${request.contextPath}/statics/libs/vue.min.js"></script>
	  <script src="${request.contextPath}/statics/libs/router.js"></script>
	  <script src="${request.contextPath}/statics/libs/bootstrap.min.js"></script>
	  <script src="${request.contextPath}/statics/libs/app.js"></script>
	  <script src="${request.contextPath}/statics/plugins/layer/layer.js"></script>
		<script>
		$(document).ready(function() {
		});
		
	    var swiper = new Swiper('.swiper-container', {
	        direction: 'vertical',
	        pagination: {
	          el: '.swiper-pagination',
	          clickable: true,
	        },
	      });
	    
		var vm = new Vue({
			el:'#rrapp',
			data:{
				parTemp:{},
				parShock:{},
				parVibration:{},
				parSpeed:{},
				parZDL:{},
				parElectric:{}
			},
			methods: {
				getInfo: function(){
					//var a = Math.round(Math.random()*9+1);
					$.getJSON("${request.contextPath}/partemp/query", function(r){
						vm.parTemp = r.parTemp;
					});
				},
				getShockInfo: function(){
					$.getJSON("${request.contextPath}/partemp/queryShock", function(r){
						vm.parShock = r.parShock;
					});
				},
				getVibrationInfo: function(){
					$.getJSON("${request.contextPath}/partemp/queryVibration", function(r){
						vm.parVibration = r.parVibration;
					});
				},
				getSpeedInfo: function(){
					$.getJSON("${request.contextPath}/partemp/querySpeed", function(r){
						vm.parSpeed = r.parSpeed;
					});
				},
				getZDLInfo: function(){
					$.getJSON("${request.contextPath}/partemp/queryZDL", function(r){
						vm.parZDL = r.parZDL;
					});
				},
				getElectricInfo: function(){
					$.getJSON("${request.contextPath}/partemp/queryElectric", function(r){
						vm.parElectric = r.parElectric;
					});
				},
				useInfo: function() {
			        setInterval(() => {
			            this.getInfo();
			        }, 2000);
			        setInterval(() => {
			            this.getShockInfo();
			        }, 5000);
			        setInterval(() => {
			            this.getVibrationInfo();
			        }, 5000);
			        setInterval(() => {
			            this.getSpeedInfo();
			        }, 5000);
			        setInterval(() => {
			            this.getZDLInfo();
			        }, 5000);
			        setInterval(() => {
			            this.getElectricInfo();
			        }, 5000);
			    }
			},
			created: function(){
				this.useInfo();
			}
		});
		
		var vm1 = new Vue({
			el:'#rrapp1',
			data:{
				parTemp:{},
				parShock:{}
			},
			methods: {
				getInfo: function(){
					//var a = Math.round(Math.random()*9+1);
					$.getJSON("${request.contextPath}/partemp/query", function(r){
						vm1.parTemp = r.parTemp;
					});
				},
				getShockInfo: function(){
					$.getJSON("${request.contextPath}/partemp/queryShock", function(r){
						vm1.parShock = r.parShock;
					});
				},
				useInfo: function() {
			        setInterval(() => {
			            this.getInfo();
			        }, 1000);
			        setInterval(() => {
			            //this.getInfo();
			            this.getShockInfo();
			        }, 1000);
			        //setInterval(this.getInfo(), 500)
			    }
			},
			created: function(){
				this.useInfo();
			}
		});		
		
		
		var vm2 = new Vue({
			el:'#rrapp2',
			data:{
				parTemp:{},
				parShock:{}
			},
			methods: {
				getInfo: function(){
					//var a = Math.round(Math.random()*9+1);
					$.getJSON("${request.contextPath}/partemp/query", function(r){
						vm2.parTemp = r.parTemp;
					});
				},
				getShockInfo: function(){
					$.getJSON("${request.contextPath}/partemp/queryShock", function(r){
						vm2.parShock = r.parShock;
					});
				},
				useInfo: function() {
			        setInterval(() => {
			            this.getInfo();
			        }, 2000);
			        setInterval(() => {
			            //this.getInfo();
			            this.getShockInfo();
			        }, 5000);
			        //setInterval(this.getInfo(), 500)
			    }
			},
			created: function(){
				this.useInfo();
			}
		});				
		</script>
	</body>
</html>
